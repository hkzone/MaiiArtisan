/*!
 * @pixi/unsafe-eval - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/unsafe-eval is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var GLSL_TO_SINGLE_SETTERS={float:function(i,n,o,u){o!==u&&(o.v=u,i.uniform1f(n,u))},vec2:function(i,n,o,u){o[0]===u[0]&&o[1]===u[1]||(o[0]=u[0],o[1]=u[1],i.uniform2f(n,u[0],u[1]))},vec3:function(i,n,o,u){o[0]===u[0]&&o[1]===u[1]&&o[2]===u[2]||(o[0]=u[0],o[1]=u[1],o[2]=u[2],i.uniform3f(n,u[0],u[1],u[2]))},int:function(i,n,o,u){i.uniform1i(n,u)},ivec2:function(i,n,o,u){i.uniform2i(n,u[0],u[1])},ivec3:function(i,n,o,u){i.uniform3i(n,u[0],u[1],u[2])},ivec4:function(i,n,o,u){i.uniform4i(n,u[0],u[1],u[2],u[3])},uint:function(i,n,o,u){i.uniform1ui(n,u)},uvec2:function(i,n,o,u){i.uniform2ui(n,u[0],u[1])},uvec3:function(i,n,o,u){i.uniform3ui(n,u[0],u[1],u[2])},uvec4:function(i,n,o,u){i.uniform4ui(n,u[0],u[1],u[2],u[3])},bool:function(i,n,o,u){i.uniform1i(n,u)},bvec2:function(i,n,o,u){i.uniform2i(n,u[0],u[1])},bvec3:function(i,n,o,u){i.uniform3i(n,u[0],u[1],u[2])},bvec4:function(i,n,o,u){i.uniform4i(n,u[0],u[1],u[2],u[3])},mat2:function(i,n,o,u){i.uniformMatrix2fv(n,!1,u)},mat3:function(i,n,o,u){i.uniformMatrix3fv(n,!1,u)},mat4:function(i,n,o,u){i.uniformMatrix4fv(n,!1,u)},sampler2D:function(i,n,o,u){i.uniform1i(n,u)},samplerCube:function(i,n,o,u){i.uniform1i(n,u)},sampler2DArray:function(i,n,o,u){i.uniform1i(n,u)}},GLSL_TO_ARRAY_SETTERS={float:function(i,n,o,u){i.uniform1fv(n,u)},vec2:function(i,n,o,u){i.uniform2fv(n,u)},vec3:function(i,n,o,u){i.uniform3fv(n,u)},vec4:function(i,n,o,u){i.uniform4fv(n,u)},int:function(i,n,o,u){i.uniform1iv(n,u)},ivec2:function(i,n,o,u){i.uniform2iv(n,u)},ivec3:function(i,n,o,u){i.uniform3iv(n,u)},ivec4:function(i,n,o,u){i.uniform4iv(n,u)},uint:function(i,n,o,u){i.uniform1uiv(n,u)},uvec2:function(i,n,o,u){i.uniform2uiv(n,u)},uvec3:function(i,n,o,u){i.uniform3uiv(n,u)},uvec4:function(i,n,o,u){i.uniform4uiv(n,u)},bool:function(i,n,o,u){i.uniform1iv(n,u)},bvec2:function(i,n,o,u){i.uniform2iv(n,u)},bvec3:function(i,n,o,u){i.uniform3iv(n,u)},bvec4:function(i,n,o,u){i.uniform4iv(n,u)},sampler2D:function(i,n,o,u){i.uniform1iv(n,u)},samplerCube:function(i,n,o,u){i.uniform1iv(n,u)},sampler2DArray:function(i,n,o,u){i.uniform1iv(n,u)}};function syncUniforms(i,n,o,u,f){var t=0,r=null,e=null,c=f.gl;for(var m in i.uniforms){var a=n[m],v=u[m],l=o[m],s=i.uniforms[m];if(a)if("float"===a.type&&1===a.size)v!==l.value&&(l.value=v,c.uniform1f(l.location,v));else if("sampler2D"!==a.type&&"samplerCube"!==a.type&&"sampler2DArray"!==a.type||1!==a.size||a.isArray)if("mat3"===a.type&&1===a.size)void 0!==s.a?c.uniformMatrix3fv(l.location,!1,v.toArray(!0)):c.uniformMatrix3fv(l.location,!1,v);else if("vec2"===a.type&&1===a.size)void 0!==s.x?(r=v,(e=l.value)[0]===r.x&&e[1]===r.y||(e[0]=r.x,e[1]=r.y,c.uniform2f(l.location,r.x,r.y))):(r=v,(e=l.value)[0]===r[0]&&e[1]===r[1]||(e[0]=r[0],e[1]=r[1],c.uniform2f(l.location,r[0],r[1])));else if("vec4"===a.type&&1===a.size)void 0!==s.width?(r=v,(e=l.value)[0]===r.x&&e[1]===r.y&&e[2]===r.width&&e[3]===r.height||(e[0]=r.x,e[1]=r.y,e[2]=r.width,e[3]=r.height,c.uniform4f(l.location,r.x,r.y,r.width,r.height))):(r=v,(e=l.value)[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]&&e[3]===r[3]||(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],c.uniform4f(l.location,r[0],r[1],r[2],r[3])));else{(1===a.size?GLSL_TO_SINGLE_SETTERS:GLSL_TO_ARRAY_SETTERS)[a.type].call(null,c,l.location,l.value,v)}else f.texture.bind(v,t),l.value!==t&&(l.value=t,c.uniform1i(l.location,t)),t++;else s.group&&f.shader.syncUniformGroup(v)}}function install(i){if(!(null==i?void 0:i.ShaderSystem))throw new Error("Unable to patch ShaderSystem, class not found.");var n=i.ShaderSystem,o=!1;try{n.prototype.systemCheck.call(null),o=!1}catch(i){o=!0}o&&Object.assign(n.prototype,{systemCheck:function(){},syncUniforms:function(i,n){var o=this.shader,u=this.renderer;syncUniforms(i,o.program.uniformData,n.uniformData,i.uniforms,u)}})}exports.install=install;
//# sourceMappingURL=unsafe-eval.min.js.map
